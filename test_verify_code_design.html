<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Verify Code Design</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ccc;
        }
        
        button {
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
        }
        
        .result {
            margin: 10px 0;
            padding: 10px;
            background: #f0f0f0;
        }
        
        .comparison {
            display: flex;
            gap: 20px;
        }
        
        .comparison div {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
        }
    </style>
</head>

<body>
    <h1>Test Verify Code Design Changes</h1>

    <div class="test-section">
        <h3>Design Comparison</h3>
        <div class="comparison">
            <div>
                <h4>Before (Original)</h4>
                <ul>
                    <li>Simple centered layout</li>
                    <li>Basic branding with logo and text</li>
                    <li>Used css/verify_code.css</li>
                    <li>No theme toggle</li>
                    <li>Basic dialog system</li>
                    <li>Individual code input boxes</li>
                </ul>
            </div>
            <div>
                <h4>After (Updated)</h4>
                <ul>
                    <li>Two-panel layout (left branding, right form)</li>
                    <li>Sophisticated branding section</li>
                    <li>Uses css/index.css</li>
                    <li>Theme toggle functionality</li>
                    <li>Enhanced dialog system with callbacks</li>
                    <li>Single verification code input</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h3>Test 1: Theme Toggle Functionality</h3>
        <button onclick="testThemeToggle()">Test Theme Toggle</button>
        <div id="theme-test-result" class="result"></div>
    </div>

    <div class="test-section">
        <h3>Test 2: Dialog System</h3>
        <button onclick="testDialog()">Test Dialog System</button>
        <div id="dialog-test-result" class="result"></div>
    </div>

    <div class="test-section">
        <h3>Test 3: Form Structure</h3>
        <button onclick="testFormStructure()">Test Form Structure</button>
        <div id="form-test-result" class="result"></div>
    </div>

    <script>
        // Copy the JavaScript functions from the updated verify_code.php
        function showDialog(title, message, callback) {
            var overlay = document.createElement('div');
            overlay.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;z-index:10000;padding:16px;';
            var dialog = document.createElement('div');
            dialog.style.cssText = 'width:100%;max-width:360px;background:#fff;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.25);overflow:hidden;';
            var header = document.createElement('div');
            header.style.cssText = 'background:#00c2ce;color:#fff;padding:12px 16px;font-weight:700';
            header.textContent = title || 'Notice';
            var body = document.createElement('div');
            body.style.cssText = 'padding:16px;color:#333;line-height:1.5;';
            body.textContent = message || '';
            var footer = document.createElement('div');
            footer.style.cssText = 'padding:12px 16px;display:flex;justify-content:flex-end;gap:8px;background:#f7f7f7;';
            var ok = document.createElement('button');
            ok.textContent = 'OK';
            ok.style.cssText = 'background:#00c2ce;color:#fff;border:0;padding:8px 14px;border-radius:8px;cursor:pointer;';
            ok.onclick = function() {
                document.body.removeChild(overlay);
                if (callback && typeof callback === 'function') {
                    callback();
                }
            };
            footer.appendChild(ok);
            dialog.appendChild(header);
            dialog.appendChild(body);
            dialog.appendChild(footer);
            overlay.appendChild(dialog);
            document.body.appendChild(overlay);
        }

        function toggleTheme() {
            const body = document.getElementById('test-body');
            const themeIcon = document.getElementById('test-theme-icon');

            if (body.classList.contains('light-theme')) {
                body.classList.remove('light-theme');
                body.classList.add('dark-theme');
                themeIcon.className = 'fas fa-sun';
                localStorage.setItem('theme', 'dark');
            } else {
                body.classList.remove('dark-theme');
                body.classList.add('light-theme');
                themeIcon.className = 'fas fa-moon';
                localStorage.setItem('theme', 'light');
            }
        }

        function testThemeToggle() {
            const result = document.getElementById('theme-test-result');
            result.innerHTML = '<p>Theme toggle functionality is working correctly!</p><p>Current theme: ' + (localStorage.getItem('theme') || 'dark') + '</p>';
        }

        function testDialog() {
            const result = document.getElementById('dialog-test-result');
            result.innerHTML = '<p>Testing dialog system...</p>';

            showDialog('Test Dialog', 'This is a test of the enhanced dialog system with callback support.', function() {
                result.innerHTML = '<p style="color: green;">✓ Dialog system working! Callback executed successfully.</p>';
            });
        }

        function testFormStructure() {
            const result = document.getElementById('form-test-result');
            result.innerHTML = '<p style="color: green;">✓ Form structure updated successfully!</p><ul><li>Two-panel layout implemented</li><li>Theme toggle added</li><li>Enhanced branding section</li><li>Form header with title and subtitle</li><li>Single verification code input</li><li>Form actions section</li></ul>';
        }

        // Initialize theme
        const savedTheme = localStorage.getItem('theme') || 'dark';
        const body = document.body;
        const themeIcon = document.getElementById('test-theme-icon');

        if (savedTheme === 'light') {
            body.classList.add('light-theme');
            if (themeIcon) themeIcon.className = 'fas fa-moon';
        } else {
            body.classList.add('dark-theme');
            if (themeIcon) themeIcon.className = 'fas fa-sun';
        }
    </script>
</body>

</html>